{
  "id": "93c958ff-5df4-49ce-9086-20f5825c82da",
  "prompt": "\u003c!-- METADATA\n{\n  \"title\": \"Crystal C Bindings\",\n  \"tags\": [\n    \"crystal\",\n    \"c\",\n    \"ffi\"\n  ],\n  \"language\": \"crystal\"\n}\n--\u003e\n\n## C Bindings\nInterfacing with C libraries\n```crystal\n# Basic C binding\n@[Link(\"m\")]  # Link with math library\nlib LibM\n  fun sqrt(x : Float64) : Float64\n  fun pow(x : Float64, y : Float64) : Float64\nend\n\nputs LibM.sqrt(16.0)  # =\u003e 4.0\nputs LibM.pow(2.0, 3.0)  # =\u003e 8.0\n\n# C struct binding\nlib LibC\n  struct TimeVal\n    tv_sec : Int64\n    tv_usec : Int64\n  end\n\n  fun gettimeofday(tv : TimeVal*, tz : Void*) : Int32\nend\n\ntv = LibC::TimeVal.new\nLibC.gettimeofday(pointerof(tv), nil)\nputs tv.tv_sec\n\n# Callback from C\nlib LibCallback\n  alias Callback = (Int32 -\u003e Int32)\n  fun register_callback(cb : Callback)\nend\n\ncallback = -\u003e(x : Int32) { x * 2 }\nLibCallback.register_callback(callback)\n```\n",
  "embedding": [
    -0.01845939,
    0.0052741347,
    0.026185226,
    0.0041434956,
    -0.03898693,
    0.013354198,
    0.0378407,
    -0.008386282,
    -0.05043229,
    0.026237365,
    -0.009747003,
    0.020394078,
    -0.018964684,
    -0.06572411,
    -0.011931251,
    0.0081107365,
    -0.02799244,
    -0.0054638083,
    -0.07082167,
    0.03538228,
    0.022669641,
    0.0017427887,
    -0.059984516,
    -0.015243677,
    0.00057532114,
    0.03379551,
    0.040439185,
    -0.014496904,
    0.02355918,
    0.07205174,
    -0.009792246,
    -0.014565054,
    0.030483697,
    -0.05023785,
    -0.030025704,
    -0.015360437,
    0.03387957,
    -0.005615681,
    0.00063308276,
    -0.0009780363,
    -0.007554319,
    0.028387366,
    0.028544586,
    -0.064951405,
    -0.03847633,
    -0.0705787,
    -0.024633473,
    -0.036048017,
    0.004714078,
    -0.030648902,
    -0.058520067,
    0.029339874,
    -0.011423521,
    -0.013718285,
    -0.027644835,
    0.034819636,
    -0.019941593,
    -0.042010393,
    -0.07628163,
    0.031866893,
    0.011951396,
    -0.030063365,
    -0.03506105,
    -0.076770924,
    0.023346776,
    0.034308344,
    -0.004021339,
    -0.009111021,
    0.02505756,
    -0.023489181,
    -0.024842195,
    0.025532393,
    -0.007823582,
    -0.046150785,
    -0.009255007,
    0.001337542,
    0.008324708,
    0.03559148,
    -0.018756656,
    0.032655723,
    -0.012652217,
    0.015010853,
    -0.048689425,
    -0.0078069908,
    -0.004870666,
    -0.04052223,
    -0.01470448,
    -0.03219981,
    -0.024913289,
    -0.0008250681,
    -0.018466523,
    0.037855353,
    0.0030632915,
    -0.010065663,
    0.021584827,
    0.03530934,
    -0.02530066,
    -0.030659508,
    -0.007356169,
    -0.0082411915,
    0.020662991,
    0.037482284,
    -0.03419651,
    0.03555079,
    -0.015041922,
    0.044380315,
    0.011838229,
    0.03242294,
    -0.07773225,
    -0.011556669,
    -0.006581359,
    -0.015630223,
    -0.0045848787,
    0.0033338335,
    -0.009129796,
    0.022065924,
    -0.014913044,
    0.004319687,
    0.0049846326,
    0.0002891276,
    0.016395122,
    0.016615339,
    -0.0058356766,
    -0.0391711,
    -0.017432582,
    -0.011190246,
    0.003748444,
    0.06667723,
    -0.05007454,
    -0.018619804,
    -0.033671163,
    -0.012877605,
    0.014522793,
    0.037101388,
    -0.019290013,
    0.057850476,
    -0.018192332,
    0.033394475,
    0.028140692,
    -0.030586425,
    0.008460832,
    -0.05863893,
    -0.011364043,
    0.08486947,
    0.005903503,
    0.009851702,
    -0.0055975667,
    0.008439435,
    0.0023330161,
    0.016783584,
    -0.015203211,
    -0.017375227,
    0.009163482,
    0.030702353,
    0.0084262155,
    -0.0031411014,
    -0.0029977176,
    0.04645478,
    0.01130751,
    -0.0016964113,
    0.02991306,
    -0.002749547,
    0.00956496,
    0.01106176,
    -0.004347654,
    0.0024645035,
    -0.03729098,
    -0.05476768,
    -0.0063661933,
    0.004921605,
    0.024565695,
    0.004810583,
    -0.014693462,
    0.027968857,
    0.043345228,
    0.047587723,
    0.022115877,
    0.063603856,
    -0.01692213,
    0.034800436,
    -0.003214502,
    0.00985412,
    0.007334947,
    0.03286063,
    0.017193824,
    0.037219673,
    0.02670577,
    0.005371192,
    -0.021922378,
    -0.003167535,
    -0.011446321,
    0.033920664,
    -0.03806261,
    0.049939405,
    -0.037617072,
    0.009027688,
    -0.06649572,
    0.020497078,
    -0.05461252,
    -0.03631769,
    -0.03507515,
    0.051764376,
    -0.04170275,
    0.015997946,
    -0.013003448,
    -0.027943186,
    0.043034162,
    0.04144699,
    -0.0140993735,
    0.004106453,
    -0.015631353,
    -0.008553464,
    -0.037774954,
    0.04242439,
    0.01987795,
    0.020323617,
    -0.047147032,
    -0.010263091,
    0.0015975403,
    0.008863162,
    0.0003621715,
    0.056314513,
    0.021807445,
    0.057280336,
    -0.047331844,
    -0.011453106,
    -0.0009865592,
    -0.0050224913,
    0.0035165837,
    0.0025246537,
    0.0040289583,
    0.05799101,
    -0.018866988,
    0.03274053,
    0.035685696,
    -0.008585927,
    0.052884493,
    0.030338466,
    0.031053012,
    -0.0028007757,
    -0.036392525,
    0.027849821,
    -0.001315792,
    0.020438328,
    0.032019418,
    -0.028645178,
    0.046152547,
    -0.023001088,
    -0.006307497,
    0.04463466,
    -0.045474008,
    0.04796106,
    0.040290423,
    0.0018136873,
    -0.04356703,
    -0.049497724,
    0.017001772,
    0.022886354,
    -0.03542111,
    -0.006776336,
    0.055688255,
    -0.0047442773,
    0.010617077,
    0.009938697,
    0.0134075815,
    0.02196283,
    0.021515777,
    -0.008043625,
    0.013667987,
    -0.05642218,
    -0.033663407,
    -0.009724474,
    -0.014586383,
    0.01865459,
    -0.038193338,
    -0.013660599,
    0.034442857,
    -0.04701926,
    0.033621028,
    -0.010365933,
    -0.00207082,
    -0.0031377918,
    -0.046546504,
    0.022875393,
    0.032935917,
    -0.008040644,
    -0.027065687,
    0.01018731,
    0.013494771,
    0.05150325,
    -0.010401763,
    0.051303513,
    0.0680766,
    -0.02404684,
    0.03875019,
    -0.040412843,
    -0.03237506,
    -0.00822304,
    -0.022278424,
    0.006839905,
    -0.08100122,
    0.024727626,
    -0.005104626,
    -0.0003716908,
    -0.0054595065,
    0.018569984,
    -0.0021207796,
    -0.028429028,
    0.06107432,
    0.0013637063,
    -0.03210475,
    -0.0020300942,
    -0.03813559,
    -0.007135544,
    -0.051013067,
    0.058602385,
    0.031087952,
    0.010561523,
    -0.023125794,
    -0.05499751,
    -0.024389844,
    -0.0006868166,
    -0.027206805,
    -0.0045279446,
    -0.0069257994,
    0.05001342,
    0.0065828618,
    -0.04511461,
    0.022802243,
    -0.020849366,
    0.0049963156,
    -0.014841445,
    -0.02394784,
    0.030738438,
    -0.013382171,
    0.02725654,
    -0.0035909957,
    0.046326958,
    0.019343425,
    0.0068480615,
    0.041700788,
    0.010237079,
    0.030992514,
    0.016803749,
    -0.0010200094,
    0.026052982,
    -0.020259755,
    0.023441827,
    0.006516341,
    -0.039916646,
    -0.047162265,
    -0.009304028,
    0.0034808898,
    0.06464513,
    0.01719165,
    0.042619172,
    -0.033125017,
    -0.020322407,
    -0.003348409,
    -0.0006949322,
    0.0137165375,
    -0.020798631,
    0.003915837,
    -0.030755272,
    -0.0073496588,
    -0.05763805,
    -0.015998699,
    0.04887921,
    0.048063982,
    -0.003149884,
    0.04061966,
    0.0074985195,
    -0.0010270834,
    0.012925779,
    -0.012042417,
    0.018552477,
    0.06975006,
    0.028348316,
    0.048316076,
    -0.03265829,
    0.00873254,
    0.0278064,
    -0.014738094,
    0.033244632,
    0.060057394,
    -0.019011475,
    -0.031465173,
    -0.01588326,
    -0.03634761,
    -0.0085116,
    -0.032791533,
    0.017653432,
    -0.011272472,
    -0.0756794,
    0.017627262,
    -0.05598785,
    0.009306157,
    0.0171834,
    0.025489854,
    0.044284567,
    -0.003811419,
    0.011467029,
    0.012963502,
    0.010288172,
    -0.02332755,
    0.0030909053,
    -0.021738533,
    0.029049078,
    -0.009988943,
    -0.0036717406,
    -0.042523533,
    0.024086047,
    -0.009505872,
    0.010830086,
    0.014851668,
    0.030867152,
    -0.017156927,
    0.007856369,
    -0.0065368563,
    0.033742927,
    -0.06993561,
    -0.026191998,
    -0.011213138,
    0.034648743,
    0.0074235625,
    0.0020649517,
    -0.0069759884,
    0.010398188,
    -0.021734228,
    0.02770643,
    -0.02753312,
    -0.02560226,
    -0.017854521,
    -0.027965277,
    -0.041212093,
    0.037764277,
    0.0429893,
    -0.0021929059,
    0.030118361,
    -0.034123894,
    -0.0035018544,
    0.0073777037,
    0.031646263,
    -0.016919766,
    0.020171825,
    -0.018316897,
    0.0073663876,
    -0.015872322,
    0.01863432,
    -0.019383635,
    0.030964075,
    -0.059395388,
    0.039098132,
    0.0052942457,
    -0.03164385,
    -0.041410003,
    0.014795524,
    -0.0023991475,
    0.0006200793,
    -0.026972441,
    0.0064020096,
    -0.021971822,
    0.0026153736,
    0.028595747,
    -0.02541244,
    0.05223155,
    -0.029665122,
    0.017631356,
    0.035805617,
    0.0012870991,
    -0.022984277,
    0.049458686,
    0.018436445,
    -0.0065542455,
    0.014097245,
    -0.04812322,
    -0.022880932,
    0.0060379845,
    0.0035343773,
    -0.035816617,
    -0.0133443745,
    0.034777086,
    -0.026031066,
    0.0076411995,
    -0.00088199053,
    -0.008407851,
    0.01786113,
    -0.028946254,
    -0.023431493,
    0.0117886355,
    -0.042619172,
    -0.031139378,
    0.027027622,
    -0.020916615,
    0.009160673,
    -0.035440806,
    -0.043468937,
    -0.001310202,
    -0.00476706,
    0.010508377,
    0.032242615,
    -0.018416695,
    -0.055811085,
    -0.0000045218153,
    -0.010209759,
    0.020059597,
    0.005875245,
    0.019966697,
    -0.020402547,
    0.0021730547,
    -0.009052831,
    0.00900043,
    -0.027414693,
    -0.017408865,
    -0.0063959565,
    0.039349083,
    0.02462388,
    -0.0020591728,
    -0.039291736,
    0.042725127,
    0.0018496269,
    -0.011554617,
    -0.026636403,
    0.01975803,
    -0.038521517,
    0.0026886128,
    0.008346743,
    0.009592483,
    -0.030271312,
    -0.022900062,
    0.017470967,
    -0.028061254,
    -0.030397387,
    -0.05330576,
    -0.04213462,
    0.03259307,
    0.05097604,
    0.009538478,
    -0.08671379,
    -0.022240298,
    -0.015054057,
    0.039584037,
    -0.0597551,
    0.00018819894,
    -0.037111517,
    0.0055722315,
    0.013250025,
    0.045253135,
    -0.026825245,
    0.055027965,
    -0.008058274,
    0.047145285,
    0.022148665,
    0.043219067,
    -0.0151427,
    -0.005428731,
    0.025269901,
    0.06201342,
    -0.014353457,
    0.05581938,
    -0.051905837,
    0.03734217,
    -0.007914663,
    -0.0077245687,
    -0.004085411,
    0.01610949,
    -0.012661304,
    -0.008110635,
    -0.0013499466,
    0.0043774163,
    0.017857635,
    -0.0057928837,
    0.045013644,
    0.0085965125,
    0.019175557,
    -0.046605114,
    -0.030776968,
    -0.056125198,
    -0.07771631,
    0.026239444,
    0.004711661,
    0.01348493,
    -0.0005301691,
    0.009973763,
    0.017955989,
    -0.034791462,
    0.05304611,
    0.04000215,
    0.04320471,
    0.026048096,
    -0.034336627,
    0.021067664,
    0.031448163,
    -0.028348135,
    0.023163402,
    -0.018884836,
    0.003970795,
    -0.012910172,
    -0.010110656,
    -0.049579095,
    -0.025600309,
    0.022943364,
    0.045973945,
    0.025973767,
    0.004457447,
    0.01042166,
    -0.070848994,
    0.00019678853,
    0.0695034,
    0.009705853,
    0.0246649,
    0.033962484,
    0.05144986,
    0.017369451,
    0.026775792,
    -0.04896175,
    0.02152241,
    -0.014177105,
    0.01760174,
    -0.015620106,
    -0.028164966,
    0.030933963,
    0.011427353,
    -0.098906405,
    -0.042040177,
    -0.039207727,
    -0.023619337,
    -0.018770827,
    -0.010566539,
    -0.0035447457,
    -0.010448145,
    -0.0048991386,
    -0.0039240667,
    -0.002952352,
    0.003618783,
    -0.030526385,
    -0.021730961,
    0.034791008,
    -0.033623893,
    0.022360446,
    0.06034778,
    -0.0032697055,
    -0.020800307,
    -0.014790289,
    0.019070918,
    -0.027728539,
    -0.00007515613,
    0.049335558,
    -0.010448121,
    0.039688554,
    0.043069717,
    -0.006793234,
    0.019460145,
    -0.0068588094,
    -0.012510927,
    0.04431371,
    -0.004494985,
    -0.07947753,
    0.010376475,
    0.0079482235,
    0.03662927,
    0.044591483,
    -0.016027518,
    -0.00086248387,
    0.03457027,
    0.017885862,
    -0.024745742,
    -0.016247038,
    0.024448909,
    -0.07263552,
    -0.057581853,
    0.011256373,
    -0.015847156,
    -0.0077402387,
    0.009416121,
    -0.037241075,
    -0.072063945,
    -0.04494045,
    0.021171715,
    -0.0024145516,
    0.020790726,
    -0.027870154,
    -0.00046005545,
    -0.062096287,
    -0.036183547,
    -0.021988671,
    -0.042482477,
    -0.033970635,
    -0.020827757,
    -0.02022171,
    -0.017676525,
    -0.03380839,
    0.05487789,
    -0.0128839575,
    -0.03245863,
    -0.031744637,
    0.005080127,
    0.0037516411,
    0.035554875,
    0.018872226,
    0.06388961,
    0.026691854,
    0.0056186896,
    -0.0021831775,
    -0.0024296166,
    -0.022183303,
    -0.033988956,
    0.02244216,
    0.03011919,
    0.013399395,
    -0.024714695,
    -0.04011296,
    0.01225823,
    -0.03649219,
    0.022258855,
    0.017992668,
    0.0176126,
    0.038490523,
    -0.0093968725,
    0.034437608,
    0.026311735,
    0.029467642,
    0.025141513,
    -0.020118827,
    -0.057087645,
    0.0066260356,
    0.004243586,
    -0.026018389,
    0.0060030553,
    0.015540967,
    0.009258914,
    0.025922583,
    0.008270418,
    -0.0068100137,
    0.02659008,
    -0.06443936,
    0.008665822,
    -0.031098792,
    0.009597024,
    0.010787869,
    -0.0056783333,
    0.05234412,
    -0.06746392,
    -0.040625937,
    -0.00920876,
    -0.008314796,
    -0.00018257517,
    -0.0650052,
    -0.08294405,
    0.028914766,
    -0.06536448,
    0.0011847973,
    -0.028396487,
    -0.0055598863,
    0.011410644,
    -0.0069518583,
    -0.020624653,
    0.028231904,
    0.018866573,
    0.015222903,
    -0.025038814,
    -0.036177393,
    -0.005052937,
    0.00092701294,
    0.032768685,
    -0.03740857,
    -0.04409751,
    0.007923263,
    0.06257186,
    0.0027566508,
    0.018940704,
    -0.036819912,
    -0.006100057,
    -0.011929269,
    0.0335054,
    -0.051078647,
    -0.012234033,
    -0.026721373,
    -0.0059555555,
    -0.054368768,
    0.01874003,
    -0.03392911,
    0.022196943,
    0.03110503,
    -0.013669569,
    0.0012154982,
    0.08331534,
    0.048702247,
    0.00077604083,
    0.06575756,
    0.05134526,
    0.0125030475,
    0.021323899,
    -0.02589193,
    0.036944438,
    0.035466958,
    0.024547305,
    0.052608915,
    -0.015796006,
    0.017956994,
    -0.023610659,
    0.018047683,
    0.013958536,
    -0.023981145,
    -0.016101934,
    0.003599565,
    0.026914066,
    -0.05036932,
    -0.06103162,
    0.03683922,
    -0.027557028,
    0.015882848,
    -0.014454853,
    0.010584644,
    -0.0058313147,
    -0.0024620276,
    0.0110132275,
    -0.02897291,
    -0.01485472,
    0.0023156353,
    0.021386227,
    0.013650339,
    0.011341504,
    0.022853205,
    0.031502526,
    0.009871414,
    0.0386047,
    0.04139386,
    0.017028203,
    0.006577347,
    0.04301363,
    0.004500892,
    0.002256403,
    -0.0025627261,
    0.045708243,
    -0.0010815047,
    -0.04853089,
    -0.030642375,
    0.026237158,
    -0.01728854,
    -0.029282486,
    0.007323596,
    0.03303907,
    -0.042685278,
    -0.058439326,
    0.015662057,
    -0.010773886,
    -0.037992217,
    0.030827168,
    -0.020919401,
    -0.040455516,
    0.037924897,
    -0.054445427,
    0.017947225,
    0.024693526,
    0.04481782,
    -0.032510422,
    0.06557041,
    0.025873303,
    0.0007534491,
    -0.018802978,
    -0.0075379913,
    -0.028528001,
    -0.011725726,
    -0.014878337,
    -0.010612315,
    0.040198654,
    0.006949787,
    -0.030760258,
    0.044057596,
    0.025631765,
    -0.021528251,
    0.0039627706,
    0.040385127,
    0.02012436,
    -0.028732613,
    -0.007594495,
    0.034163322,
    -0.021433791,
    0.007761125,
    -0.02740352,
    -0.008434287,
    -0.044349357,
    -0.00797993,
    -0.037847295,
    0.023374395,
    -0.019607661,
    -0.0037023344,
    -0.017503766,
    -0.004219886,
    -0.0143884225,
    0.027117956,
    0.014474484,
    -0.031979863,
    0.030191464,
    0.022997808,
    -0.0076807053,
    0.023207251,
    -0.042817634,
    -0.04442529,
    0.004415137,
    0.071820945,
    -0.033060685,
    0.061952323,
    0.048192993,
    0.017480925,
    0.009235962,
    0.027058465,
    0.04035207,
    -0.046998315,
    0.015282137,
    -0.0128919445,
    0.016595563,
    -0.011394392,
    -0.015514451,
    -0.009960175,
    0.021101633,
    0.017449638,
    0.02110216,
    -0.014127457,
    -0.009878574,
    -0.06778977,
    0.0219325,
    -0.037993982,
    0.005043663,
    -0.011144823,
    -0.009707665,
    0.026322888,
    -0.06728422,
    0.23288976,
    0.06346304,
    0.060711816,
    0.053053726,
    0.013178727,
    0.016570207,
    0.019364452,
    -0.004648931,
    0.02025105,
    -0.0462674,
    0.013196514,
    0.0009838949,
    0.009378504,
    0.0635065,
    0.009426597,
    0.039303664,
    -0.03441228,
    -0.022614425,
    0.033836048,
    -0.049732126,
    -0.063487634,
    0.006149378,
    0.007739653,
    0.0131679345,
    0.006180245,
    0.008110031,
    0.0046749655,
    -0.032192145,
    -0.01601046,
    -0.01637825,
    0.008915189,
    -0.052763876,
    0.00066403043,
    0.028194854,
    -0.027440602,
    0.03140509,
    -0.027657209,
    -0.006904207,
    -0.009735344,
    -0.032675225,
    -0.023187177,
    -0.009988443,
    -0.019281333,
    0.015774662,
    0.015540239,
    0.018709673,
    -0.0066944864,
    -0.0029670792,
    0.0445612,
    -0.019991077,
    0.014970987,
    -0.01620269,
    -0.013652655,
    -0.016219351,
    -0.08766929,
    -0.036733285,
    -0.00034534052,
    -0.01173836,
    -0.020138552,
    0.01018588,
    0.018049575,
    0.026819434,
    -0.020658491,
    0.010619734,
    -0.024741564,
    0.012440425,
    -0.036026493,
    0.06855062,
    -0.04765832,
    0.013732429,
    -0.041115757,
    0.0029529664,
    0.027395027,
    0.005046318,
    0.028097698,
    0.0224103,
    -0.0043729683,
    0.039797734,
    0.00584863,
    -0.03169223,
    0.014449299,
    -0.015923351,
    -0.022953812,
    -0.043337937,
    0.019488879,
    0.052845646,
    -0.037537664,
    -0.011614335,
    0.00082764623,
    0.0021940328,
    0.017823542,
    0.049613,
    0.015808022,
    -0.013847901,
    -0.011136554
  ],
  "CosineSimilarity": 0
}