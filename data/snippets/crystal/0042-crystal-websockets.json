{
  "id": "da1d4324-72b6-4848-abd5-89ec36d91d33",
  "prompt": "\u003c!-- METADATA\n{\n  \"title\": \"Crystal WebSockets\",\n  \"tags\": [\n    \"crystal\",\n    \"websockets\",\n    \"networking\"\n  ],\n  \"language\": \"crystal\"\n}\n--\u003e\n\n## WebSockets\nWebSocket server and client\n```crystal\nrequire \"http/web_socket\"\n\n# WebSocket Server\nserver = HTTP::Server.new do |context|\n  ws = HTTP::WebSocket.new(context)\n\n  ws.on_message do |message|\n    puts \"Received: #{message}\"\n    ws.send \"Echo: #{message}\"\n  end\n\n  ws.on_close do\n    puts \"Client disconnected\"\n  end\n\n  ws.run\nend\n\naddress = server.bind_tcp(8080)\nputs \"WebSocket server on ws://#{address}\"\nspawn { server.listen }\n\n# WebSocket Client\nHTTP::WebSocket.new(\"ws://localhost:8080\") do |ws|\n  ws.send(\"Hello, WebSocket!\")\n\n  ws.on_message do |message|\n    puts \"Server says: #{message}\"\n  end\n\n  sleep 1\nend\n\n# Broadcast to multiple clients\nclients = [] of HTTP::WebSocket\n\nserver = HTTP::Server.new do |context|\n  ws = HTTP::WebSocket.new(context)\n  clients \u003c\u003c ws\n\n  ws.on_message do |msg|\n    clients.each { |client| client.send(msg) }\n  end\n\n  ws.run\nend\n```\n",
  "embedding": [
    -0.042323112,
    0.015967818,
    -0.03420953,
    0.02375428,
    -0.03346412,
    -0.03811994,
    -0.024965992,
    -0.0077312705,
    0.015083356,
    0.050358463,
    -0.037715353,
    0.03383366,
    0.0270986,
    -0.024818243,
    -0.0254725,
    -0.013890728,
    -0.045607116,
    -0.01768677,
    -0.05302029,
    -0.01517436,
    0.049556658,
    0.035613958,
    -0.05403537,
    -0.035662312,
    -0.02762425,
    0.06498506,
    -0.006966539,
    -0.0076614646,
    0.055166125,
    0.03613573,
    -0.05245676,
    0.0012850513,
    0.034470856,
    -0.07390073,
    0.0006905327,
    -0.021952875,
    0.02791022,
    0.0029898272,
    -0.06990835,
    -0.048140783,
    -0.000037067275,
    0.021124827,
    0.019778267,
    -0.055318344,
    -0.015568503,
    -0.03575921,
    0.0037125228,
    -0.023767237,
    0.003046081,
    0.008100501,
    -0.007556641,
    0.045312066,
    -0.0057941447,
    -0.0329841,
    -0.009747186,
    -0.01554294,
    -0.054640632,
    -0.017944956,
    -0.06116666,
    0.028863646,
    0.025494054,
    0.016598891,
    -0.014293972,
    -0.053494383,
    0.001269162,
    0.031787742,
    0.0053296727,
    0.010945279,
    0.020055067,
    -0.022443013,
    -0.030748012,
    0.034495343,
    -0.014706727,
    -0.04421807,
    0.003535554,
    0.034773964,
    -0.0051005916,
    0.0102973115,
    0.0075766,
    0.05563091,
    0.00801057,
    0.017419199,
    -0.023844361,
    0.00066617236,
    -0.0044451486,
    -0.0147725325,
    -0.00896617,
    -0.02700204,
    -0.018148888,
    0.018538712,
    0.0017816713,
    0.01793197,
    -0.023412347,
    0.019398177,
    0.0020533495,
    0.006593875,
    -0.024025088,
    -0.018128004,
    -0.0394538,
    0.040001504,
    0.010613255,
    0.035234127,
    -0.05331823,
    -0.004364902,
    -0.007881096,
    0.010092903,
    0.024166036,
    0.03270337,
    -0.08110708,
    -0.003836572,
    -0.010911979,
    -0.0040635583,
    -0.020843808,
    0.024088835,
    0.01458133,
    0.047333907,
    0.011272766,
    0.00034004994,
    0.001812539,
    0.023045575,
    -0.013635574,
    0.03215676,
    0.016370503,
    -0.019144252,
    -0.005767828,
    -0.034697253,
    -0.024906518,
    0.056633204,
    -0.012036257,
    -0.06907702,
    0.0002443331,
    -0.00009289979,
    0.0033636903,
    0.0022683728,
    -0.0074644713,
    0.052971248,
    0.008792947,
    0.014116524,
    0.05936165,
    -0.04377214,
    -0.0010707418,
    -0.058994316,
    -0.006318234,
    0.10726364,
    0.024392143,
    0.021376716,
    0.006237789,
    0.028207012,
    -0.030912565,
    -0.0035044842,
    -0.017474633,
    -0.046991404,
    0.004117219,
    0.009095995,
    0.025325354,
    -0.01064087,
    -0.03742487,
    0.0253772,
    -0.0006971816,
    0.024740899,
    0.035073526,
    0.011727885,
    -0.028031714,
    0.0066862246,
    -0.059202682,
    0.0039862785,
    -0.03147937,
    -0.05743921,
    -0.02730656,
    0.012264669,
    0.053413425,
    0.01210779,
    0.000040198054,
    -0.00036155785,
    -0.0025454708,
    -0.0079421,
    -0.0032431583,
    0.00985036,
    -0.043401282,
    0.007896591,
    0.0117938835,
    0.025071189,
    0.008378442,
    0.013017565,
    0.048689023,
    0.016994646,
    0.01222022,
    -0.008267376,
    0.0018421807,
    -0.0011935494,
    0.018627578,
    0.024471337,
    -0.041118186,
    0.01913402,
    -0.033479735,
    0.004291039,
    -0.038407613,
    0.036352444,
    -0.03143929,
    -0.036792085,
    -0.011581795,
    0.029628417,
    -0.04541131,
    0.02076451,
    0.009963066,
    -0.027583387,
    0.023981277,
    0.030323459,
    0.0073637567,
    -0.015295057,
    0.018121835,
    0.009600609,
    -0.042168304,
    0.026248338,
    0.07673909,
    -0.008732145,
    -0.070694506,
    0.014677063,
    -0.02254869,
    -0.029156923,
    0.034934666,
    0.058464147,
    0.026245855,
    0.024396582,
    -0.070029736,
    -0.018281568,
    -0.023617793,
    -0.016856926,
    0.009871747,
    0.034867726,
    0.01858312,
    0.020167913,
    -0.038535807,
    0.05209392,
    -0.0077627525,
    -0.0107387,
    0.046502996,
    0.043842547,
    0.0040977346,
    0.0090870885,
    -0.062696084,
    0.018927,
    0.013223826,
    0.0034344173,
    0.024557404,
    -0.030859044,
    0.012215115,
    -0.024896003,
    -0.007261313,
    0.018077046,
    -0.017392265,
    0.047979992,
    0.05786288,
    0.0046252706,
    -0.013918928,
    -0.04301821,
    0.003616148,
    0.06705121,
    -0.07808491,
    -0.014907529,
    0.03213506,
    0.02246321,
    -0.018849969,
    -0.0002748568,
    0.023474842,
    0.0042443834,
    0.0330645,
    -0.024233116,
    -0.031165779,
    -0.043515287,
    -0.04523996,
    -0.007876789,
    -0.015038164,
    0.017361153,
    -0.06054831,
    -0.0073812683,
    0.026868867,
    -0.031821713,
    0.06386617,
    -0.012507775,
    0.017442873,
    0.0029731556,
    -0.0119039975,
    0.032548096,
    0.016114647,
    -0.0052273907,
    -0.06150437,
    -0.0163173,
    -0.0018640505,
    0.07416213,
    -0.029693779,
    0.027280925,
    0.055112433,
    -0.016544469,
    0.011216948,
    -0.018958505,
    -0.022042885,
    0.060773194,
    -0.009335494,
    0.006047735,
    -0.05544044,
    0.029923683,
    0.0134376995,
    0.00949312,
    -0.032361474,
    0.065569125,
    0.0058074757,
    -0.014362547,
    0.05136548,
    0.018374268,
    -0.021980364,
    0.018041395,
    -0.03789527,
    -0.004805433,
    -0.039403178,
    0.08717419,
    0.056842774,
    0.024837296,
    -0.042104844,
    -0.036117982,
    -0.011020183,
    -0.0052378937,
    -0.011384115,
    -0.01344707,
    -0.0143497195,
    0.047380663,
    -0.013029542,
    -0.062741816,
    0.021322742,
    -0.033667214,
    -0.0071478942,
    -0.009473841,
    -0.022692617,
    0.025462568,
    -0.016745724,
    0.03479821,
    0.018448474,
    0.01915774,
    -0.021445384,
    0.018005975,
    0.022544572,
    -0.03585869,
    0.009256749,
    0.055634946,
    -0.03503454,
    0.02175944,
    0.03547909,
    0.0016032329,
    0.0007687223,
    -0.0032269626,
    -0.05322657,
    -0.021816317,
    0.019818392,
    0.04134175,
    0.007999316,
    0.0477996,
    -0.09340646,
    0.006813125,
    0.026505873,
    0.018171003,
    -0.011577304,
    -0.04156666,
    -0.009694513,
    0.01179445,
    -0.03602251,
    -0.069180906,
    0.054750644,
    0.08071698,
    0.08198042,
    -0.005899167,
    0.0027252105,
    0.026325937,
    -0.018243667,
    0.013410177,
    0.0088846,
    -0.013283655,
    0.0665824,
    0.029097624,
    0.0058824653,
    -0.013340476,
    -0.010924396,
    0.035883818,
    -0.011299816,
    0.030880984,
    0.02206822,
    -0.037637018,
    -0.028630013,
    0.014076053,
    -0.048756827,
    -0.042822942,
    0.009063535,
    -0.023540683,
    0.0010908222,
    -0.004505574,
    -0.009367106,
    -0.04407345,
    -0.034603268,
    -0.029207585,
    0.05388185,
    0.043065585,
    0.038145095,
    0.021360887,
    0.027710173,
    0.023354499,
    -0.04480057,
    0.03151664,
    -0.052781872,
    0.012450385,
    0.011494848,
    0.013854976,
    -0.043562293,
    0.0017284936,
    0.024197133,
    0.03977699,
    -0.00094112015,
    -0.017470969,
    -0.07064518,
    0.03043904,
    0.024620678,
    -0.009939264,
    -0.02835807,
    -0.018672334,
    0.003038015,
    0.041985165,
    -0.02044402,
    -0.007970666,
    -0.02111525,
    -0.056200672,
    -0.015272468,
    0.03126769,
    -0.0022825177,
    -0.018155465,
    -0.019897519,
    -0.010405343,
    -0.05025221,
    0.026280707,
    0.029554352,
    0.006744451,
    0.0029607913,
    -0.017570857,
    0.0039228764,
    -0.014110204,
    -0.005601439,
    -0.00068585767,
    -0.008980636,
    0.0038812067,
    0.02971086,
    -0.03150385,
    -0.002741274,
    -0.031177124,
    -0.016553212,
    -0.017251374,
    0.020289546,
    -0.041797943,
    -0.023192111,
    -0.041256152,
    0.019921627,
    0.014202169,
    0.009801466,
    0.017252488,
    -0.0107811475,
    0.0017571981,
    0.04586548,
    -0.0058110827,
    -0.044058233,
    0.056995936,
    -0.009069391,
    0.006032321,
    0.0078296205,
    -0.0056299414,
    -0.010328055,
    0.03684203,
    -0.014105525,
    0.0036920067,
    -0.015881103,
    -0.04788795,
    -0.0014164856,
    0.047610212,
    0.0038412882,
    -0.011629631,
    -0.003290613,
    0.04361615,
    -0.0034180952,
    -0.011227426,
    0.03352007,
    -0.022245375,
    0.02498961,
    -0.022427019,
    0.016138399,
    0.0424205,
    -0.02957477,
    -0.01945647,
    0.008370226,
    -0.029966107,
    0.016907098,
    0.0040787477,
    -0.005647598,
    0.0005333976,
    -0.0076652193,
    0.020211698,
    0.061798513,
    -0.023142403,
    -0.050695367,
    -0.05375822,
    -0.02779506,
    0.031877957,
    0.017432095,
    0.034812935,
    -0.024073772,
    0.01925235,
    0.0042080283,
    0.054176014,
    -0.040105812,
    -0.031911194,
    0.04056478,
    0.0396814,
    -0.02917862,
    0.0005356852,
    -0.040993866,
    0.0057428502,
    0.044329576,
    -0.034694366,
    0.006128009,
    0.019714018,
    -0.044763952,
    0.019666007,
    0.02518763,
    -0.021221926,
    -0.029734464,
    -0.0086949635,
    0.01291138,
    -0.026528314,
    -0.034939673,
    -0.034742966,
    -0.019554475,
    -0.019333672,
    0.05812429,
    0.02382801,
    -0.04006953,
    -0.0031731445,
    -0.025240386,
    -0.0026384573,
    -0.04201733,
    0.014676072,
    0.026708588,
    0.03745302,
    0.011281366,
    0.019028269,
    -0.029434433,
    0.019843679,
    -0.034233794,
    0.014330438,
    0.012510054,
    0.022068292,
    0.008534139,
    0.01848334,
    -0.0066156783,
    0.022229092,
    0.015580053,
    0.004683973,
    -0.071773656,
    0.0061199022,
    -0.005747279,
    -0.018991735,
    -0.024678007,
    -0.008920509,
    -0.013119167,
    0.0021166962,
    0.002523014,
    0.02126974,
    0.012738307,
    0.011206437,
    0.06417094,
    0.0068124076,
    0.007929947,
    -0.052809127,
    -0.03710497,
    -0.025996987,
    -0.07024014,
    -0.008800426,
    0.015818492,
    -0.04423008,
    -0.016376078,
    0.0068119965,
    0.015623402,
    -0.016441433,
    0.044670902,
    0.023180444,
    0.0047198413,
    0.046831623,
    -0.051303625,
    0.054327168,
    0.02052201,
    -0.020327607,
    -0.011068492,
    -0.036463186,
    -0.006423172,
    -0.039735653,
    -0.019261822,
    -0.064619206,
    -0.03234039,
    -0.06282148,
    0.048771057,
    -0.034914423,
    0.0023341766,
    -0.023005182,
    -0.023941724,
    -0.00041682238,
    0.06501275,
    0.028322209,
    0.017932445,
    0.04671949,
    0.028520513,
    0.024346327,
    0.039493155,
    0.007359367,
    -0.016510475,
    -0.018530957,
    0.038092434,
    -0.018612033,
    -0.0069703395,
    0.03471787,
    0.004241351,
    -0.03367458,
    -0.015012618,
    -0.03291252,
    -0.011117976,
    0.0036163395,
    -0.03017711,
    -0.025693744,
    -0.02684831,
    -0.0049551665,
    0.016032355,
    0.00014669624,
    0.040550012,
    -0.004347517,
    0.0030467708,
    -0.022517113,
    -0.0456963,
    0.031085454,
    0.05340063,
    0.027952073,
    -0.01356774,
    -0.06403511,
    0.007041756,
    -0.026159016,
    -0.008622282,
    0.02305152,
    -0.0034430015,
    0.05747757,
    0.030815968,
    -0.00634856,
    0.08228426,
    -0.037058864,
    0.006269102,
    0.021070743,
    -0.00028998705,
    -0.09482431,
    0.000604477,
    -0.008862522,
    -0.009866381,
    0.03309935,
    -0.01671443,
    -0.02797401,
    0.039541326,
    0.0013607279,
    -0.0069424585,
    0.0112137925,
    0.023180455,
    -0.05354985,
    -0.027595405,
    -0.020638073,
    0.0054361955,
    -0.018753268,
    -0.034218885,
    -0.0062447516,
    -0.010823512,
    -0.023803914,
    0.026389157,
    0.0060953586,
    0.025826663,
    -0.037866626,
    -0.0023229439,
    -0.051430758,
    -0.012178919,
    -0.029503088,
    0.017805021,
    -0.03436017,
    -0.048766527,
    -0.0021441886,
    -0.02692708,
    -0.04468458,
    0.023622643,
    -0.043696146,
    0.013991204,
    -0.031833384,
    0.0012299564,
    0.014020904,
    0.016264463,
    -0.028401334,
    0.012306392,
    0.0042227223,
    -0.027422832,
    0.030860908,
    0.007141254,
    -0.0101603335,
    -0.02683428,
    -0.014054542,
    0.026351146,
    0.024669737,
    -0.023887599,
    -0.033878695,
    0.025631504,
    -0.04474514,
    0.019833395,
    -0.0078626145,
    -0.0064406614,
    0.01899401,
    0.012316998,
    0.03404244,
    0.026902901,
    -0.015226151,
    0.042658154,
    -0.041108087,
    0.011325279,
    -0.013671606,
    -0.02903768,
    -0.02474311,
    -0.0109721115,
    0.006232615,
    0.037467334,
    0.0590191,
    -0.012399966,
    0.0073420736,
    0.010153051,
    -0.083004996,
    -0.017779252,
    0.017029945,
    -0.04173748,
    0.020460706,
    0.042807464,
    -0.015544179,
    -0.041857485,
    0.026297787,
    -0.03456455,
    0.005037076,
    0.019961715,
    -0.093505174,
    -0.015599619,
    0.0050803185,
    -0.042206153,
    0.0202156,
    -0.04013938,
    -0.011234799,
    -0.0028141262,
    0.023143318,
    -0.0145561015,
    0.0045641316,
    -0.006437541,
    0.028189063,
    0.021282557,
    -0.03487643,
    0.004370377,
    -0.024053361,
    0.043994974,
    -0.008059736,
    -0.041614268,
    0.006283527,
    0.037605163,
    -0.03463144,
    -0.00023475463,
    -0.06384976,
    -0.0019692308,
    0.016095893,
    0.034025982,
    -0.031646628,
    -0.03277829,
    -0.05233126,
    -0.03247916,
    -0.045907278,
    0.021310829,
    -0.013625603,
    0.01822816,
    0.056728754,
    0.0006030253,
    -0.035611495,
    0.06573773,
    0.030573834,
    0.009174585,
    0.035692774,
    0.012411862,
    -0.0159605,
    0.032635774,
    -0.025964977,
    -0.024440808,
    0.039759487,
    0.03237299,
    0.060372237,
    0.013075043,
    0.0071572117,
    0.021766538,
    0.0051838844,
    0.0142541,
    -0.0014979463,
    -0.029234627,
    -0.02908035,
    0.063291356,
    -0.06500432,
    -0.017141577,
    0.049007036,
    -0.01558798,
    -0.0018582079,
    0.030407319,
    0.012458226,
    0.015653113,
    -0.000027716085,
    0.0036280523,
    -0.04423065,
    -0.0098142,
    -0.023640906,
    -0.0338506,
    0.0007599737,
    0.03846814,
    0.013769618,
    0.0019928238,
    -0.0058440985,
    0.01497297,
    0.054814488,
    -0.021648627,
    -0.00089015736,
    0.032023873,
    -0.032275695,
    0.04055169,
    -0.011270528,
    0.033538178,
    -0.021991566,
    0.011095011,
    -0.052387927,
    0.021257712,
    -0.012713746,
    -0.0055981246,
    0.016936183,
    0.000649438,
    -0.0408126,
    0.004527915,
    0.0021808522,
    0.0046727504,
    -0.016969599,
    0.019641431,
    0.014926093,
    -0.0017046427,
    0.05707097,
    -0.010993418,
    0.02198595,
    0.005735207,
    0.053245205,
    -0.03888997,
    0.026697623,
    -0.01610525,
    -0.0042238026,
    -0.028291395,
    0.006983809,
    -0.044086624,
    -0.03934202,
    0.0033418506,
    -0.014586479,
    0.017276889,
    -0.012116622,
    -0.040623076,
    -0.028498659,
    0.016736455,
    -0.023693359,
    -0.022434754,
    0.07240405,
    0.005476979,
    -0.032743,
    0.031181758,
    0.025462046,
    -0.013506184,
    0.0068384465,
    -0.051989242,
    0.012841925,
    -0.02521783,
    0.011989992,
    -0.04342516,
    0.01667575,
    0.00864359,
    -0.0016923519,
    -0.011031641,
    -0.0073018,
    -0.026181724,
    -0.010684918,
    -0.0041983034,
    0.016651832,
    0.03271796,
    0.040231958,
    0.036742814,
    0.028779048,
    -0.024821378,
    -0.03165302,
    0.0096783675,
    0.02354608,
    -0.014588797,
    0.04797531,
    -0.0097849835,
    -0.01322026,
    -0.020835143,
    0.038753815,
    0.068119705,
    -0.0075705512,
    0.0131236315,
    -0.0023250815,
    -0.01280919,
    -0.01027476,
    -0.0228,
    -0.0023562592,
    0.034485612,
    -0.003490891,
    -0.024555082,
    -0.0020234312,
    -0.025511842,
    -0.046985902,
    -0.015884208,
    -0.016531602,
    0.045613717,
    0.017031217,
    -0.027506934,
    0.03651045,
    -0.047328554,
    0.21798639,
    0.06605254,
    0.040550243,
    -0.0059645395,
    -0.0081964815,
    0.04244604,
    0.020583149,
    0.032307774,
    -0.00012645371,
    -0.03579119,
    -0.011898458,
    0.01045526,
    0.038682465,
    0.069999166,
    -0.014037897,
    0.07631162,
    -0.015064498,
    0.006876147,
    0.021397645,
    -0.026630847,
    -0.029930275,
    0.008704267,
    -0.0065685334,
    0.0641832,
    0.012839833,
    -0.005499091,
    0.021691939,
    -0.01702225,
    0.004447271,
    -0.017245106,
    0.022570496,
    -0.046133056,
    0.0059872535,
    -0.007937613,
    -0.0025014926,
    0.026364345,
    -0.0035622397,
    0.008974146,
    0.010169961,
    -0.039314404,
    0.01029779,
    -0.026842663,
    -0.02295996,
    -0.007840598,
    -0.030952543,
    0.044865027,
    -0.009282774,
    -0.0068207094,
    0.040564194,
    0.011455359,
    0.012692614,
    0.0015824644,
    0.012230903,
    -0.015595109,
    -0.045119237,
    -0.01654752,
    0.055412818,
    -0.03028914,
    -0.03186099,
    0.01397524,
    0.027398676,
    0.03088474,
    0.012856024,
    0.035842802,
    -0.023692824,
    -0.0152510945,
    -0.0019029614,
    0.06050297,
    -0.04168657,
    0.009275887,
    -0.013599907,
    -0.0072664493,
    0.01453299,
    -0.06781897,
    -0.0026046766,
    0.0005444515,
    0.025906982,
    0.048316717,
    0.046780355,
    -0.010707645,
    -0.008332614,
    0.014756046,
    0.0044387667,
    -0.014444652,
    0.032367464,
    0.03286676,
    -0.04028202,
    -0.03625226,
    0.017689018,
    0.012450815,
    0.02834447,
    0.042345844,
    0.015194396,
    0.033790708,
    0.049960975
  ],
  "CosineSimilarity": 0
}